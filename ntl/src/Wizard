
if test "$1" = "on"
then
   echo ""
   echo "*"
   echo "*"
   echo "* The wizard is going to run."
   echo "* It will perform some timing experiments, and then automatically"
   echo "* update your config.h file."
   echo "* Please be patient, and don't be spooked by any error messages."
   echo "*"
   echo "*"
else
   echo ""
   echo "*"
   echo "*"
   echo "* You have chosen not to run the wizard."
   echo "*"
   echo "*"
   exit 0
fi

rm -r small

mkdir small
mkdir small/src
mkdir small/include
mkdir small/include/NTL

cp FFT.c small/src
cp GetTime.c small/src
cp IsFinite.c small/src
cp MulTimeTest.c small/src
cp PolyTimeTest.c small/src
cp ZZ.c small/src
cp ZZVec.c small/src
cp ZZ_p.c small/src
cp ZZ_pX.c small/src
cp ZZ_pX1.c small/src
cp InitSettings.c small/src
cp DispSettings.c small/src
cp lip.c small/src
cp g_lip_impl.h small/src
cp c_lip_impl.h small/src
cp lip_gmp_aux_impl.h small/src
cp tools.c small/src
cp vec_ZZ.c small/src
cp vec_ZZ_p.c small/src
cp vec_long.c small/src
cp WizComp.c small/src


cp ../include/NTL/FFT.h small/include/NTL
cp ../include/NTL/IsFinite.h small/include/NTL
cp ../include/NTL/ZZ.h small/include/NTL
cp ../include/NTL/ZZVec.h small/include/NTL
cp ../include/NTL/ZZ_p.h small/include/NTL
cp ../include/NTL/ZZ_pX.h small/include/NTL
cp ../include/NTL/config.h small/include/NTL
cp ../include/NTL/lip.h small/include/NTL
cp ../include/NTL/g_lip.h small/include/NTL
cp ../include/NTL/c_lip.h small/include/NTL
cp ../include/NTL/gmp_aux.h small/include/NTL
cp ../include/NTL/mach_desc.h small/include/NTL
cp ../include/NTL/new.h small/include/NTL
cp ../include/NTL/tools.h small/include/NTL
cp ../include/NTL/vec_ZZ.h small/include/NTL
cp ../include/NTL/vec_ZZ_p.h small/include/NTL
cp ../include/NTL/vec_long.h small/include/NTL
cp ../include/NTL/vector.h small/include/NTL

cp config_template small/src
cp WizardAux small/src

cp makefile small/src
cp RemoveProg small/src
cp clr_AVOID_BRANCHING small/src
cp clr_AVOID_FLOAT small/src
cp clr_FFT_PIPELINE small/src
cp clr_LONG_LONG small/src
cp clr_TBL_REM small/src
cp clr_WIZARD_HACK small/src
cp mul_banner small/src
cp poly_banner small/src
cp set_AVOID_BRANCHING small/src
cp set_AVOID_FLOAT small/src
cp set_FFT_PIPELINE small/src
cp set_LONG_LONG small/src
cp set_TBL_REM small/src
cp set_WIZARD_HACK small/src

cd small/src
sh WizardAux

cd ../..

echo "*"
echo "*"
echo "* Updating config.h"
echo "*"
echo "*"

cp small/include/NTL/config.h ../include/NTL/config.h

rm -r small

exit 0

